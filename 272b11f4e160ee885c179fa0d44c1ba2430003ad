{
  "comments": [
    {
      "key": {
        "uuid": "85d6dbbd_cf417dda",
        "filename": "models-pdp/src/main/java/org/onap/policy/models/pdp/concepts/PdpMessage.java",
        "patchSetId": 1
      },
      "lineNbr": 63,
      "author": {
        "id": 4903
      },
      "writtenOn": "2021-06-22T17:01:26Z",
      "side": 1,
      "message": "Don\u0027t we already send the hostname in the \"name\" field already?",
      "range": {
        "startLine": 63,
        "startChar": 1,
        "endLine": 63,
        "endChar": 24
      },
      "revId": "272b11f4e160ee885c179fa0d44c1ba2430003ad",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "51fb2b62_eefaf841",
        "filename": "models-pdp/src/main/java/org/onap/policy/models/pdp/concepts/PdpMessage.java",
        "patchSetId": 1
      },
      "lineNbr": 63,
      "author": {
        "id": 477
      },
      "writtenOn": "2021-06-22T17:06:15Z",
      "side": 1,
      "message": "good point Ajith, I think pdps send it.",
      "parentUuid": "85d6dbbd_cf417dda",
      "range": {
        "startLine": 63,
        "startChar": 1,
        "endLine": 63,
        "endChar": 24
      },
      "revId": "272b11f4e160ee885c179fa0d44c1ba2430003ad",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "05c7efeb_5bff88f7",
        "filename": "models-pdp/src/main/java/org/onap/policy/models/pdp/concepts/PdpMessage.java",
        "patchSetId": 1
      },
      "lineNbr": 63,
      "author": {
        "id": 811
      },
      "writtenOn": "2021-06-22T18:52:29Z",
      "side": 1,
      "message": "that\u0027s true for the status message, but not the others.  We could eliminate the duplicate in several ways:\n1) modify the PDPs to set the \"source\" to null (I don\u0027t particularly like this option); or\n2) move the \"source\" field into the pdp-update and pdp-state-change subclasses; or\n3) remove the \"name\" field from the pdp-status subclass, but add getName/setName methods that invoke getSource/setSource underneath (so it remains backward compatible)",
      "parentUuid": "51fb2b62_eefaf841",
      "range": {
        "startLine": 63,
        "startChar": 1,
        "endLine": 63,
        "endChar": 24
      },
      "revId": "272b11f4e160ee885c179fa0d44c1ba2430003ad",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ade51c30_5812a549",
        "filename": "models-pdp/src/main/java/org/onap/policy/models/pdp/concepts/PdpMessage.java",
        "patchSetId": 1
      },
      "lineNbr": 63,
      "author": {
        "id": 3239
      },
      "writtenOn": "2021-06-22T19:19:04Z",
      "side": 1,
      "message": "If I am correct, we decided to change the PDPs to send unique identifier instead of hostname in the \"name\" field of PDP_STATUS. To make them unique across multiple clusters.",
      "parentUuid": "05c7efeb_5bff88f7",
      "range": {
        "startLine": 63,
        "startChar": 1,
        "endLine": 63,
        "endChar": 24
      },
      "revId": "272b11f4e160ee885c179fa0d44c1ba2430003ad",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "36842d1c_3020d96c",
        "filename": "models-pdp/src/main/java/org/onap/policy/models/pdp/concepts/PdpMessage.java",
        "patchSetId": 1
      },
      "lineNbr": 63,
      "author": {
        "id": 811
      },
      "writtenOn": "2021-06-22T19:45:25Z",
      "side": 1,
      "message": "hmm.  We did discuss that.  However, I\u0027m still unsure about the need for it, because it seems like the names that we see in the pdp-status messages are pod names, which generally include some kind of random letter sequence.  Wouldn\u0027t that make them unique?\n\nIf the name is not unique, then this approach for providing a default value for \"source\" would not necessarily be unique either.  So the question is: can we depend on the hostname being globally unique?  If not, then I would propose that we add a method to policy-common, possibly in NetworkUtil, to generate a unique name to be used by a server.",
      "parentUuid": "ade51c30_5812a549",
      "range": {
        "startLine": 63,
        "startChar": 1,
        "endLine": 63,
        "endChar": 24
      },
      "revId": "272b11f4e160ee885c179fa0d44c1ba2430003ad",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0f2a6b45_ad9da867",
        "filename": "models-pdp/src/main/java/org/onap/policy/models/pdp/concepts/PdpMessage.java",
        "patchSetId": 1
      },
      "lineNbr": 63,
      "author": {
        "id": 477
      },
      "writtenOn": "2021-06-22T19:45:47Z",
      "side": 1,
      "message": "I don\u0027t remember the resolution wrt the multi-cluster discussion.   For existing functionality, for what I see in drools and xacml (and probably apex I would think) always send the hostname in the \u0027name\u0027 including responses to state-change and updates (since the responses are part of status messages).",
      "parentUuid": "ade51c30_5812a549",
      "range": {
        "startLine": 63,
        "startChar": 1,
        "endLine": 63,
        "endChar": 24
      },
      "revId": "272b11f4e160ee885c179fa0d44c1ba2430003ad",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ba53bb61_e8b76f0f",
        "filename": "models-pdp/src/main/java/org/onap/policy/models/pdp/concepts/PdpMessage.java",
        "patchSetId": 1
      },
      "lineNbr": 63,
      "author": {
        "id": 3239
      },
      "writtenOn": "2021-06-22T21:16:54Z",
      "side": 1,
      "message": "And the hostname for drools \u0026 apex is something like\ndev-policy-apex-pdp-0\ndev-policy-drools-pdp-0\n\nFor xacml-pdp I see that some unique code is appended at the end\ndev-policy-xacml-pdp-5989d574cb-fhzf9",
      "parentUuid": "0f2a6b45_ad9da867",
      "range": {
        "startLine": 63,
        "startChar": 1,
        "endLine": 63,
        "endChar": 24
      },
      "revId": "272b11f4e160ee885c179fa0d44c1ba2430003ad",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "694051bf_9193e5d3",
        "filename": "models-pdp/src/main/java/org/onap/policy/models/pdp/concepts/PdpMessage.java",
        "patchSetId": 1
      },
      "lineNbr": 63,
      "author": {
        "id": 811
      },
      "writtenOn": "2021-06-22T21:38:50Z",
      "side": 1,
      "message": "thanks for checking, Ram.  In that case, I\u0027ll add a method to policy-common for generating a unique \"name\".  For now, I think I\u0027ll take this approach in models:\n4) change \"source\" to \"name\" in the superclass and remove \"name\" from the pdp-status subclass.  I won\u0027t provide a default value, thus PAP will have to be modified to populate it",
      "parentUuid": "ba53bb61_e8b76f0f",
      "range": {
        "startLine": 63,
        "startChar": 1,
        "endLine": 63,
        "endChar": 24
      },
      "revId": "272b11f4e160ee885c179fa0d44c1ba2430003ad",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "de6400f7_23f8c00b",
        "filename": "models-pdp/src/main/java/org/onap/policy/models/pdp/concepts/PdpMessage.java",
        "patchSetId": 1
      },
      "lineNbr": 63,
      "author": {
        "id": 811
      },
      "writtenOn": "2021-06-22T21:43:35Z",
      "side": 1,
      "message": "...and switching to approach #2, because messages originating from PAP need both a source and a name (i.e., target PDP)",
      "parentUuid": "694051bf_9193e5d3",
      "range": {
        "startLine": 63,
        "startChar": 1,
        "endLine": 63,
        "endChar": 24
      },
      "revId": "272b11f4e160ee885c179fa0d44c1ba2430003ad",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cf075094_9ab6e998",
        "filename": "models-pdp/src/main/java/org/onap/policy/models/pdp/concepts/PdpMessage.java",
        "patchSetId": 1
      },
      "lineNbr": 63,
      "author": {
        "id": 3239
      },
      "writtenOn": "2021-06-22T21:46:22Z",
      "side": 1,
      "message": "Sounds good!",
      "parentUuid": "694051bf_9193e5d3",
      "range": {
        "startLine": 63,
        "startChar": 1,
        "endLine": 63,
        "endChar": 24
      },
      "revId": "272b11f4e160ee885c179fa0d44c1ba2430003ad",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    }
  ]
}