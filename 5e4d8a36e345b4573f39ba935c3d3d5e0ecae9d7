{
  "comments": [
    {
      "key": {
        "uuid": "9050c71a_1d6932a1",
        "filename": "models-interactions/model-impl/cds/src/main/java/org/onap/policy/cds/client/CdsProcessorGrpcClient.java",
        "patchSetId": 7
      },
      "lineNbr": 82,
      "author": {
        "id": 477
      },
      "writtenOn": "2019-10-04T16:16:56Z",
      "side": 1,
      "message": "I think there are some gaps with the concurrency handling. I think potentially another thread could get in calling cleanInstance()  right here under line 82, and you\u0027ll end up returning null (although it seems that the intent of this method is always to return a non-null instance).   I don\u0027t think the use of AtomicReference to hold the client instance is sufficient precaution.",
      "revId": "5e4d8a36e345b4573f39ba935c3d3d5e0ecae9d7",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6c6e5537_5e586398",
        "filename": "models-interactions/model-impl/cds/src/main/java/org/onap/policy/cds/client/CdsProcessorGrpcClient.java",
        "patchSetId": 7
      },
      "lineNbr": 89,
      "author": {
        "id": 477
      },
      "writtenOn": "2019-10-04T16:16:56Z",
      "side": 1,
      "message": "same comment as above",
      "revId": "5e4d8a36e345b4573f39ba935c3d3d5e0ecae9d7",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    }
  ]
}